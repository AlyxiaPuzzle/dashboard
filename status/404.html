<html>
  <head>
    <!--<link rel="stylesheet" href="https://unpkg.com/mvp.css"> -->
    <script src="https://unpkg.com/console.js@2"></script>
  </head>
  <body>
    <center>
      <h1> Oh no! You've hit a 404. </h1>
      <h5> Our engineers are working on it diligently, and will try to restore service as soon as possible! </h5>
      <p id="slash">click here if you're an engineer</p>
      <script>
        var cnsl = new window.Console({
          welcome: 'Welcome to the alyxia outage management system. There is currently 1 system outage(s).' + '\n Type \'help\' for a list of commands.'
        });

        // Virtual game data
        var player = {
          name: 'USER'
        }
        system = false;
        
        cnsl.register('info', function () {
          if (system === true) {
            return 'INFO: ' + 'System loaded! Master password can be found at https://alyxiacontest.github.io/debug/password'
          } else if (system === false) {
            system = true;
            return 'INFO: ' + 'CTF Dashboard is DOWN. Rebooting...' + '\n' + 'Run \'info\' for progress'
          }
        }, {
          usage: 'INFO <message string>: Get Info On outages.'
        })
        
        cnsl.register('launch', function () {
          const pass = window.prompt("Please enter your password in order to continue.")
          if (pass.toString() === 'alpha centauri') {
            var request = new XMLHttpRequest();
            request.open("POST", "https://discord.com/api/webhooks/823511100070297610/iX3FI2YCwHYZluEatS_cNObRje7dOyCmmIvGT62asfS0M-8J1KotODAeEUpuQaK2d7Dh");
		    
            request.setRequestHeader('Content-type', 'application/json');
									       
            var params = {
              username: "you dummy",
              avatar_url: "https://dev-to-uploads.s3.amazonaws.com/uploads/articles/p36kevgzs6mytsidhago.png",
              content: "JOHN HAS LAUNCHED WOOO"
            };
									       
            request.send(JSON.stringify(params));
          }
          else {
            return 'INFO: ' + 'Incorrect Password. Are you authorized to do this?'
          }
        }, {
          usage: 'LAUNCH: Start\'s john system.'
        })
        
        cnsl.register('help', function () {
          return Object.keys(cnsl.handlers).map(function (name) {
            return ' - ' + cnsl.handlers[name].cfg.usage
          }).join('\n')
        }, {
          usage: 'HELP: Show help messages.'
        })

        cnsl.register(function () {
          return 'Unrecognized command. Use `help`.'
        })
        document.getElementById('slash').addEventListener('click', function () { cnsl.toggle() })
</script>
    </center>
  </body>
</html>
